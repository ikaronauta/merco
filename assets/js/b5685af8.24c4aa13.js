"use strict";(self.webpackChunkdoc_bpmco=self.webpackChunkdoc_bpmco||[]).push([[3870],{3905:function(e,c,l){l.d(c,{Zo:function(){return m},kt:function(){return N}});var n=l(7294);function i(e,c,l){return c in e?Object.defineProperty(e,c,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[c]=l,e}function a(e,c){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);c&&(n=n.filter((function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable}))),l.push.apply(l,n)}return l}function t(e){for(var c=1;c<arguments.length;c++){var l=null!=arguments[c]?arguments[c]:{};c%2?a(Object(l),!0).forEach((function(c){i(e,c,l[c])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):a(Object(l)).forEach((function(c){Object.defineProperty(e,c,Object.getOwnPropertyDescriptor(l,c))}))}return e}function r(e,c){if(null==e)return{};var l,n,i=function(e,c){if(null==e)return{};var l,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)l=a[n],c.indexOf(l)>=0||(i[l]=e[l]);return i}(e,c);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)l=a[n],c.indexOf(l)>=0||Object.prototype.propertyIsEnumerable.call(e,l)&&(i[l]=e[l])}return i}var o=n.createContext({}),d=function(e){var c=n.useContext(o),l=c;return e&&(l="function"==typeof e?e(c):t(t({},c),e)),l},m=function(e){var c=d(e.components);return n.createElement(o.Provider,{value:c},e.children)},u={inlineCode:"code",wrapper:function(e){var c=e.children;return n.createElement(n.Fragment,{},c)}},s=n.forwardRef((function(e,c){var l=e.components,i=e.mdxType,a=e.originalType,o=e.parentName,m=r(e,["components","mdxType","originalType","parentName"]),s=d(l),N=i,_=s["".concat(o,".").concat(N)]||s[N]||u[N]||a;return l?n.createElement(_,t(t({ref:c},m),{},{components:l})):n.createElement(_,t({ref:c},m))}));function N(e,c){var l=arguments,i=c&&c.mdxType;if("string"==typeof e||i){var a=l.length,t=new Array(a);t[0]=s;var r={};for(var o in c)hasOwnProperty.call(c,o)&&(r[o]=c[o]);r.originalType=e,r.mdxType="string"==typeof e?e:i,t[1]=r;for(var d=2;d<a;d++)t[d]=l[d];return n.createElement.apply(null,t)}return n.createElement.apply(null,l)}s.displayName="MDXCreateElement"},9234:function(e,c,l){l.r(c),l.d(c,{assets:function(){return m},contentTitle:function(){return o},default:function(){return N},frontMatter:function(){return r},metadata:function(){return d},toc:function(){return u}});var n=l(7462),i=l(3366),a=(l(7294),l(3905)),t=["components"],r={title:"cliente",slug:"/tabla-cliente"},o=void 0,d={unversionedId:"app-movil/sincronizacion/tablas/cliente",id:"app-movil/sincronizacion/tablas/cliente",title:"cliente",description:"Endpoint 1",source:"@site/docs/app-movil/sincronizacion/tablas/cliente.md",sourceDirName:"app-movil/sincronizacion/tablas",slug:"/tabla-cliente",permalink:"/merco/docs/tabla-cliente",editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/app-movil/sincronizacion/tablas/cliente.md",tags:[],version:"current",frontMatter:{title:"cliente",slug:"/tabla-cliente"},sidebar:"tutorialSidebar",previous:{title:"clasificacion_categorias_espacios",permalink:"/merco/docs/clasificacion-categorias-espacios"},next:{title:"clienteActividad",permalink:"/merco/docs/clienteactividad"}},m={},u=[{value:"Endpoint 1",id:"endpoint-1",level:2},{value:"Tablas",id:"tablas",level:3},{value:"Consulta A",id:"consulta-a",level:3},{value:"Consulta B",id:"consulta-b",level:3},{value:"Consulta C",id:"consulta-c",level:3},{value:"Endpoint 2",id:"endpoint-2",level:2},{value:"Tablas",id:"tablas-1",level:3},{value:"Consulta A",id:"consulta-a-1",level:3},{value:"Ultima Actualizaci\xf3n",id:"ultima-actualizaci\xf3n",level:2}],s={toc:u};function N(e){var c=e.components,l=(0,i.Z)(e,t);return(0,a.kt)("wrapper",(0,n.Z)({},s,l,{components:c,mdxType:"MDXLayout"}),(0,a.kt)("h2",{id:"endpoint-1"},"Endpoint 1"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="Condiciones"',title:'"Condiciones"'},'if (!mPrefs.getString("jerarquia", "").equals("P"))\n')),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="EndPoint"',title:'"EndPoint"'},"Metodo.SINCRONIZARCLIENTES\n\nSINCLI\n")),(0,a.kt)("h3",{id:"tablas"},"Tablas"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"clmer_cliente")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"clmer_clienteZona")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"clmer_mercaderista")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"clmer_clienteMercaderista")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"clmer_fotoCliente")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"clmer_cliente")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"clmer_clienteZona")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"clmer_mercaderista")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"clmer_fotoCliente"))),(0,a.kt)("h3",{id:"consulta-a"},"Consulta A"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="Condiciones"',title:'"Condiciones"'},'if (jerarquia.Equals("S"))\n')),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sql",metastring:'title="Query"',title:'"Query"'},"SELECT DISTINCT cl.cli_id 'sin_id','a' operacion, cl.cli_ptoventa,\n    LTRIM(RTRIM(cl.cli_codSAP)) cli_codSAP, cl.cli_nombre, cl.cli_ciudad, \n    ISNULL(cm.clmer_mercaderista, me.mer_cedula), '''155'', ''156'', ''157'', \n        ''158'', ''159'', ''160'', ''161'', ''162'', ''163'', ''164'', ''165'', \n        ''166'', ''167'', ''168'', ''169'', ''170'', ''171'', ''172'', ''173'', \n        ''174'', ''175'', ''176'', ''177'', ''178'', ''179'', ''180'', ''181'', \n        ''182'', ''183'', ''184'', ''185'', ''186'', ''187'', ''188'', ''189'', \n        ''190'', ''191'', ''192'', ''193'', ''194'', ''195'', ''196'', ''197'', \n        ''198'', ''199'', ''200'', ''201'', ''202'', ''203'', ''204'', ''205'', \n        ''206'', ''207'', ''208'', ''209'', ''210'', ''211'', ''212'', ''213'', \n        ''214'', ''215''', cl.cli_coordenadas, cli_codigoEAN, \nCASE WHEN fc.fot_foto \nIS NULL THEN '0' ELSE '1' END, cli_direccion, cli_canal, ISNULL(cl.cli_modulos, ''), \n    ISNULL(cl.cli_codigoPadre, ''), cl.regId, cl.cli_formato, '', cl.cli_subCanal, \n    ISNULL(cl.cli_frecuenciaVisita, ''), \n    ISNULL(cl.cli_categorizacionGarganta, ''), \n    ISNULL(cl.cli_categorizacionProbioticos, ''), \n    ISNULL(cl.cli_categorizacionPoderada, '')\nFROM clmer_cliente cl\n    INNER JOIN clmer_clienteZona cz ON cl.cli_id = cz.cli_id\n    INNER JOIN clmer_mercaderista me ON cz.zona = me.mer_zona\n    LEFT JOIN clmer_clienteMercaderista cm ON cl.cli_id = cm.clmer_clienteId \n    AND cm.clmer_mercaderista = me.mer_cedula\n    LEFT JOIN clmer_fotoCliente fc ON cl.cli_id = fc.cli_id\nWHERE (me.mer_jefeDoc = @cedula OR me.mer_cedula= @cedula) AND cl.cli_valido = '1'\n")),(0,a.kt)("h3",{id:"consulta-b"},"Consulta B"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="Condiciones"',title:'"Condiciones"'},'else if (jerarquia.Equals("E"))\n')),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sql",metastring:'title="Query"',title:'"Query"'},"SELECT DISTINCT cl.cli_id 'sin_id','a' operacion, cl.cli_ptoventa,\n    LTRIM(RTRIM(cl.cli_codSAP)) cli_codSAP, cl.cli_nombre, cl.cli_ciudad, '', '', \n        cl.cli_coordenadas, cli_codigoEAN, \nCASE WHEN fc.fot_foto IS NULL THEN '0' ELSE '1' END, cli_direccion, \n    REPLACE(REPLACE(REPLACE(cli_canal,'1','5'),'2','6'),'3','4'), \n    ISNULL(cl.cli_modulos, ''), \n    ISNULL(cl.cli_codigoPadre, ''), cl.regId, cl.cli_formato, '', cl.cli_subCanal, \n    ISNULL(cl.cli_frecuenciaVisita, ''), \n    ISNULL(cl.cli_categorizacionGarganta, ''), \n    ISNULL(cl.cli_categorizacionProbioticos, ''), \n    ISNULL(cl.cli_categorizacionPoderada, '')\nFROM clmer_cliente cl\n    INNER JOIN clmer_clienteZona cz ON cl.cli_id = cz.cli_id\n    INNER JOIN clmer_mercaderista me ON cz.zona = me.mer_zona\n    LEFT JOIN clmer_fotoCliente fc ON cl.cli_id = fc.cli_id\nWHERE me.mer_cedula = @cedula AND cl.cli_valido = '1'  \n")),(0,a.kt)("h3",{id:"consulta-c"},"Consulta C"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="Condiciones"',title:'"Condiciones"'},'else (jerarquia.Equals("E"))\n')),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sql",metastring:'title="Query"',title:'"Query"'},"SELECT DISTINCT cl.cli_id 'sin_id','a' operacion, cl.cli_ptoventa,\n    LTRIM(RTRIM(cl.cli_codSAP)) cli_codSAP, cl.cli_nombre, cl.cli_ciudad, \n    ISNULL(cm.clmer_mercaderista, me.mer_cedula), '''155'', ''156'', ''157'', \n        ''158'', ''159'', ''160'', ''161'', ''162'', ''163'', ''164'', ''165'', \n        ''166'', ''167'', ''168'', ''169'', ''170'', ''171'', ''172'', ''173'', \n        ''174'', ''175'', ''176'', ''177'', ''178'', ''179'', ''180'', ''181'', \n        ''182'', ''183'', ''184'', ''185'', ''186'', ''187'', ''188'', ''189'', \n        ''190'', ''191'', ''192'', ''193'', ''194'', ''195'', ''196'', ''197'', \n        ''198'', ''199'', ''200'', ''201'', ''202'', ''203'', ''204'', ''205'', \n        ''206'', ''207'', ''208'', ''209'', ''210'', ''211'', ''212'', ''213'', \n        ''214'', ''215''', cl.cli_coordenadas, cli_codigoEAN, \nCASE WHEN fc.fot_foto IS NULL THEN '0' ELSE '1' END, cli_direccion, cli_canal, \n    ISNULL(cl.cli_modulos, ''), ISNULL(cl.cli_codigoPadre, ''), cl.regId, \n        cl.cli_formato, '', cl.cli_subCanal, \n    ISNULL(cl.cli_frecuenciaVisita, ''), \n    ISNULL(cl.cli_categorizacionGarganta, ''), \n    ISNULL(cl.cli_categorizacionProbioticos, ''), \n    ISNULL(cl.cli_categorizacionPoderada, '')\nFROM clmer_cliente cl\n    INNER JOIN clmer_clienteZona cz ON cl.cli_id = cz.cli_id\n    INNER JOIN clmer_mercaderista me ON cz.zona = me.mer_zona\n    LEFT JOIN clmer_clienteMercaderista cm ON cl.cli_id = cm.clmer_clienteId \n        AND cm.clmer_mercaderista = me.mer_cedula\n    LEFT JOIN clmer_fotoCliente fc ON cl.cli_id = fc.cli_id\nWHERE me.mer_cedula = @cedula AND cl.cli_valido = '1' AND @cedula != '2222'\nUNION\nSELECT DISTINCT cl.cli_id 'sin_id','a' operacion, cl.cli_ptoventa,\n    LTRIM(RTRIM(cl.cli_codSAP)) cli_codSAP, cl.cli_nombre, cl.cli_ciudad, \n    CASE WHEN @cedula = '2222' THEN '' \n    ELSE ISNULL(cm.clmer_mercaderista, me.mer_cedula) END, '''155'', ''156'', \n        ''157'', ''158'', ''159'', ''160'', ''161'', ''162'', ''163'', ''164'', \n        ''165'', ''166'', ''167'', ''168'', ''169'', ''170'', ''171'', ''172'', \n        ''173'', ''174'', ''175'', ''176'', ''177'', ''178'', ''179'', ''180'', \n        ''181'', ''182'', ''183'', ''184'', ''185'', ''186'', ''187'', ''188'', \n        ''189'', ''190'', ''191'', ''192'', ''193'', ''194'', ''195'', ''196'', \n        ''197'', ''198'', ''199'', ''200'', ''201'', ''202'', ''203'', ''204'', \n        ''205'', ''206'', ''207'', ''208'', ''209'', ''210'', ''211'', ''212'', \n        ''213'', ''214'', ''215''', cl.cli_coordenadas, cli_codigoEAN, \n    CASE WHEN fc.fot_foto IS NULL THEN '0' ELSE '1' END, cli_direccion, cli_canal, \n        ISNULL(cl.cli_modulos, ''), ISNULL(cl.cli_codigoPadre, ''), cl.regId, \n            cl.cli_formato, '', cl.cli_subCanal, \n        ISNULL(cl.cli_frecuenciaVisita, ''), \n        ISNULL(cl.cli_categorizacionGarganta, ''), \n        ISNULL(cl.cli_categorizacionProbioticos, ''), \n        ISNULL(cl.cli_categorizacionPoderada, '')\nFROM clmer_cliente cl\n    INNER JOIN clmer_clienteZona cz ON cl.cli_id = cz.cli_id\n    INNER JOIN clmer_mercaderista me ON cz.zona = me.mer_zona\n    INNER JOIN clmer_Regional reg ON cl.cli_regional = reg.regId\n    LEFT JOIN clmer_clienteMercaderista cm ON cl.cli_id = cm.clmer_clienteId \n        AND cm.clmer_mercaderista = me.mer_cedula\n    LEFT JOIN clmer_fotoCliente fc ON cl.cli_id = fc.cli_id\nWHERE cl.cli_valido = '1' \n    AND cl.cli_canal = CASE WHEN @cedula = '2222' THEN 3 ELSE cl.cli_canal END\n    AND reg.regId = CASE WHEN @cedula = '2222' THEN 3 ELSE reg.regId END\n    AND me.mer_cedula = CASE WHEN @cedula = '2222' THEN me.mer_cedula \n    ELSE @cedula END\n")),(0,a.kt)("hr",null),(0,a.kt)("h2",{id:"endpoint-2"},"Endpoint 2"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="Condiciones"',title:'"Condiciones"'},'if (!mPrefs.getString("jerarquia", "").equals("P"))\n')),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="EndPoint"',title:'"EndPoint"'},"Metodo.SINCRONIZARCLIENTES\n\nSINCLIACT\n")),(0,a.kt)("h3",{id:"tablas-1"},"Tablas"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"clmer_actividadCliente"),"  "),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"clmer_cliente ")," "),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"clmer_kamCliente"),"  ")),(0,a.kt)("h3",{id:"consulta-a-1"},"Consulta A"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sql",metastring:'title="Query"',title:'"Query"'},"SELECT DISTINCT c.cli_id, 'a', c.cli_codSAP, c.cli_nombre, c.cli_ptoventa, \n    c.cli_canal, c.cli_regional, c.cli_direccion\n    FROM clmer_actividadCliente ac\n        INNER JOIN clmer_cliente c ON ac.cliId = c.cli_id\n        INNER JOIN clmer_kamCliente kc ON c.cli_jerarquia = kc.cli_jerarquia\n            AND kc.regId = c.cli_regional\nWHERE kc.mer_cedula = @cedula AND kc.kamEstado = 1 AND c.cli_valido = 1 \n    AND CONVERT(DATE, GETDATE()) BETWEEN ac.actFechaInicio AND ac.actFechaFin\n")),(0,a.kt)("h2",{id:"ultima-actualizaci\xf3n"},"Ultima Actualizaci\xf3n"),(0,a.kt)("div",{class:"ultima-actualizacion"},(0,a.kt)("small",null,(0,a.kt)("i",null,"Ultima actualizaci\xf3n:",(0,a.kt)("b",null," 18 de mayo de 2022."))),(0,a.kt)("small",null,(0,a.kt)("i",null,"Actualizado por:",(0,a.kt)("b",null," Julian A. Ortiz.")))))}N.isMDXComponent=!0}}]);